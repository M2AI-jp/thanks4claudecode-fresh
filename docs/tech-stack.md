# Tech Stack

> **thanks4claudecode ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¨è¨­è¨ˆæ€æƒ³**

---

## æ¦‚è¦

thanks4claudecode ã¯ã€Claude Code ã®è‡ªå¾‹æ€§ã¨å“è³ªã‚’**æ§‹é€ çš„ã«å‘ä¸Šã•ã›ã‚‹**ãŸã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

å¾“æ¥ã®ã€Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹è¡Œå‹•åˆ¶å¾¡ã€ã§ã¯ãªãã€**Hooks ã«ã‚ˆã‚‹æ§‹é€ çš„å¼·åˆ¶**ã¨**SubAgents ã«ã‚ˆã‚‹æ¤œè¨¼**ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€LLM ã®è¡Œå‹•ã‚’ç¢ºå®Ÿã«åˆ¶å¾¡ã—ã¾ã™ã€‚

---

## ä¸‰ä½ä¸€ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸‰ä½ä¸€ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   Hooks           SubAgents         CLAUDE.md               â”‚
â”‚   ï¼ˆæ§‹é€ çš„å¼·åˆ¶ï¼‰    ï¼ˆæ¤œè¨¼ï¼‰           ï¼ˆæ€è€ƒåˆ¶å¾¡ï¼‰             â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚   exit 2 ã§       PASS/FAIL ã§      è¡Œå‹•ãƒ«ãƒ¼ãƒ«ã‚’             â”‚
â”‚   ãƒ–ãƒ­ãƒƒã‚¯         åˆ¤å®š              å®šç¾©                     â”‚
â”‚                                                             â”‚
â”‚   å˜ç‹¬ã§ã¯æ©Ÿèƒ½ã—ãªã„ã€‚çµ„ã¿åˆã‚ã›ã¦åˆã‚ã¦å¼·åˆ¶åŠ›ã‚’æŒã¤ã€‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¨­è¨ˆæ€æƒ³**: LLM ã¯ã€Œè‰¯ã‹ã‚Œã¨æ€ã£ã¦ã€ãƒ«ãƒ¼ãƒ«ã‚’ç ´ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€CLAUDE.md ã§ã®ã€ŒãŠé¡˜ã„ã€ã ã‘ã§ãªãã€Hook ã«ã‚ˆã‚‹ã€Œç‰©ç†çš„ãªãƒ–ãƒ­ãƒƒã‚¯ã€ã¨ SubAgent ã«ã‚ˆã‚‹ã€Œç¬¬ä¸‰è€…æ¤œè¨¼ã€ã‚’çµ„ã¿åˆã‚ã›ã¾ã™ã€‚

---

## ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: Claude Code Hooks System

### ä½•ãŒã§ãã‚‹ã‹

Claude Code ã®ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ã€ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œå‰å¾Œãªã©ï¼‰ã«ãƒ•ãƒƒã‚¯ã—ã¦ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è‡ªå‹•å®Ÿè¡Œã—ã¾ã™ã€‚

### ãªãœä½¿ã†ã‹

- **æ§‹é€ çš„å¼·åˆ¶**: ã€ŒãŠé¡˜ã„ã€ã§ã¯ãªãã€Œç‰©ç†çš„ã«ãƒ–ãƒ­ãƒƒã‚¯ã€
- **ä¸€è²«æ€§**: äººé–“ã®ä»‹å…¥ãªã—ã§åŒã˜ãƒ«ãƒ¼ãƒ«ã‚’é©ç”¨
- **é€æ˜æ€§**: ã™ã¹ã¦ã®åˆ¶å¾¡ãŒã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦å¯èª­

### ã©ã†å‹•ãã‹

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
      â†“
UserPromptSubmit Hookï¼ˆprompt-guard.shï¼‰
      â†“  çŠ¶æ…‹ã‚’ systemMessage ã«æ³¨å…¥
LLM ãŒ Read ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨
      â†“
PreToolUse Hookï¼ˆinit-guard.shï¼‰
      â†“  å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ« Read å®Œäº†ã‚’ç¢ºèª
LLM ãŒ Edit ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨
      â†“
PreToolUse Hookï¼ˆplaybook-guard.shï¼‰
      â†“  playbook å­˜åœ¨ã‚’ç¢ºèªï¼ˆãªã‘ã‚Œã° exit 2 ã§ãƒ–ãƒ­ãƒƒã‚¯ï¼‰
Edit å®Ÿè¡Œ
      â†“
PostToolUse Hookï¼ˆarchive-playbook.shï¼‰
      â†“  playbook å®Œäº†ã‚’æ¤œå‡º â†’ ã‚¢ãƒŠã‚¦ãƒ³ã‚¹
```

---

## è¨€èª: Bash/Shell

### ãªãœ Bash ã‹

1. **Claude Code ã¨ã®è¦ªå’Œæ€§**: stdin JSON â†’ å‡¦ç† â†’ exit code/stdout JSON
2. **ä¾å­˜é–¢ä¿‚ã‚¼ãƒ­**: Node.js ã‚„ Python ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦
3. **å¯èª­æ€§**: éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚‚èª­ã‚ã‚‹ï¼ˆæ¯”è¼ƒçš„ï¼‰
4. **ãƒ‡ãƒãƒƒã‚°å®¹æ˜“æ€§**: `set -x` ã§å®Ÿè¡Œãƒˆãƒ¬ãƒ¼ã‚¹ãŒå¯èƒ½

### æ¨™æº–çš„ãª Hook æ§‹é€ 

```bash
#!/bin/bash
set -e

# stdin ã‹ã‚‰ JSON ã‚’èª­ã¿è¾¼ã‚€
INPUT=$(cat)

# jq ã§å¿…è¦ãªå€¤ã‚’æŠ½å‡º
FILE_PATH=$(echo "$INPUT" | jq -r '.tool_input.file_path // ""')

# æ¡ä»¶ãƒã‚§ãƒƒã‚¯
if [ æ¡ä»¶ ]; then
    echo "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
    exit 2  # ãƒ–ãƒ­ãƒƒã‚¯
fi

exit 0  # é€šé
```

---

## ãƒ‡ãƒ—ãƒ­ã‚¤: ãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆgit-basedï¼‰

### ãªãœãƒ­ãƒ¼ã‚«ãƒ«ã‹

1. **å³åº§ã«åæ˜ **: git commit ã§å¤‰æ›´ãŒå³åº§ã«æœ‰åŠ¹
2. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡å¯èƒ½
3. **å¤–éƒ¨ä¾å­˜ãªã—**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šä¸è¦ã§å‹•ä½œ
4. **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå®¹æ˜“**: å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªç”±ã«æ‹¡å¼µå¯èƒ½

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
.claude/
â”œâ”€â”€ hooks/           # ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¾¤
â”‚   â”œâ”€â”€ session-start.sh
â”‚   â”œâ”€â”€ playbook-guard.sh
â”‚   â””â”€â”€ ...
â”œâ”€â”€ settings.json    # Hook ã®ç™»éŒ²
â”œâ”€â”€ skills/          # å°‚é–€çŸ¥è­˜
â””â”€â”€ .session-init/   # ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹
    â”œâ”€â”€ pending
    â”œâ”€â”€ consent
    â””â”€â”€ user-intent.md

plan/
â”œâ”€â”€ project.md       # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»
â”œâ”€â”€ active/          # é€²è¡Œä¸­ã® playbook
â””â”€â”€ template/        # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```

---

## ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹

### ãªãœãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã‹

1. **ã‚·ãƒ³ãƒ—ãƒ«**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸è¦
2. **å¯èª­æ€§**: Markdown ã§äººé–“ã‚‚èª­ã‚ã‚‹
3. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: git ã§å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡
4. **ç§»æ¤æ€§**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã ã‘ã§ç§»è¡Œå¯èƒ½

### ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | æ›´æ–°é »åº¦ |
|----------|------|----------|
| `state.md` | ç¾åœ¨åœ°ã® Single Source of Truth | é«˜ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³æ¯ï¼‰ |
| `plan/project.md` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®è¨ˆç”» | ä½ï¼ˆmilestone å®Œäº†æ™‚ï¼‰ |
| `plan/active/playbook-*.md` | ã‚¿ã‚¹ã‚¯è¨ˆç”» | ä¸­ï¼ˆphase å®Œäº†æ™‚ï¼‰ |
| `.claude/.session-init/user-intent.md` | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ„å›³ã®è¨˜éŒ² | é«˜ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¯ï¼‰ |

### state.md ã®æ§‹é€ 

```yaml
focus:
  current: thanks4claudecode
  project: plan/project.md

playbook:
  active: plan/active/playbook-xxx.md
  branch: feat/xxx

goal:
  milestone: M008
  phase: p3
  done_criteria:
    - æ¡ä»¶1
    - æ¡ä»¶2
```

---

## 3å±¤è¨ˆç”»æ§‹é€ 

```
project.mdï¼ˆæ°¸ç¶šï¼‰
â”œâ”€â”€ vision: æœ€ä¸Šä½ç›®æ¨™
â”œâ”€â”€ milestones[]: ä¸­é–“ç›®æ¨™
â”‚   â”œâ”€â”€ M001: achieved
â”‚   â”œâ”€â”€ M002: achieved
â”‚   â””â”€â”€ M008: in_progress â† ç¾åœ¨
â””â”€â”€ constraints: åˆ¶ç´„æ¡ä»¶

playbookï¼ˆä¸€æ™‚çš„ï¼‰
â”œâ”€â”€ meta.derives_from: M008
â”œâ”€â”€ goal.done_when: milestone é”æˆæ¡ä»¶
â””â”€â”€ phases[]: ä½œæ¥­å˜ä½
    â”œâ”€â”€ p0: done
    â”œâ”€â”€ p1: done
    â”œâ”€â”€ p2: done
    â”œâ”€â”€ p3: in_progress â† ç¾åœ¨
    â””â”€â”€ p4: pending

phaseï¼ˆä½œæ¥­å˜ä½ï¼‰
â”œâ”€â”€ subtasks[]: å…·ä½“çš„ãªã‚¿ã‚¹ã‚¯
â”œâ”€â”€ status: pending | in_progress | done
â””â”€â”€ test_command: æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰
```

---

## Hooks ä¾å­˜é–¢ä¿‚ãƒãƒˆãƒªã‚¯ã‚¹

å„ Hook ãŒå‚ç…§ãƒ»ä¾å­˜ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€è¦§ã§ã™ã€‚

### Core Hooksï¼ˆã‚·ã‚¹ãƒ†ãƒ å¿…é ˆï¼‰

| Hook | å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ« | ä¾å­˜ Hook | å½¹å‰² |
|------|-------------|----------|------|
| **session-start.sh** | state.md, playbook, failures.log | system-health-check.sh | ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆæœŸåŒ– |
| **prompt-guard.sh** | state.md, project.md, playbook, user-intent.md | - | State Injection |
| **init-guard.sh** | .session-init/pending, playbook | - | å¿…é ˆ Read å¼·åˆ¶ |
| **playbook-guard.sh** | state.md (playbook.active) | - | playbook å­˜åœ¨ç¢ºèª |
| **consent-guard.sh** | .session-init/consent | - | [ç†è§£ç¢ºèª] å¼·åˆ¶ |
| **critic-guard.sh** | state.md (self_complete) | - | critic PASS å¼·åˆ¶ |
| **archive-playbook.sh** | playbook, user-intent.md, project.md | - | å®Œäº†æ¤œå‡ºãƒ»ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ |
| **log-subagent.sh** | subagent.log | failure-logger.sh | SubAgent ãƒ­ã‚° |

### Guard Hooksï¼ˆä¿è­·ãƒ»æ¤œè¨¼ï¼‰

| Hook | å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ« | ä¾å­˜ Hook | å½¹å‰² |
|------|-------------|----------|------|
| **check-protected-edit.sh** | protected-files.txt, state.md (security) | - | ãƒ•ã‚¡ã‚¤ãƒ«ä¿è­· |
| **check-main-branch.sh** | state.md (focus) | - | main ãƒ–ãƒ©ãƒ³ãƒç¦æ­¢ |
| **check-coherence.sh** | state.md, playbook | - | æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ |
| **scope-guard.sh** | playbook (done_when/done_criteria) | - | ã‚¹ã‚³ãƒ¼ãƒ—å¤‰æ›´æ¤œå‡º |
| **executor-guard.sh** | playbook (executor) | - | executor åˆ¶å¾¡ |
| **depends-check.sh** | playbook (depends_on) | - | ä¾å­˜é–¢ä¿‚æ¤œè¨¼ |

### Utility Hooksï¼ˆè£œåŠ©æ©Ÿèƒ½ï¼‰

| Hook | å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ« | ä¾å­˜ Hook | å½¹å‰² |
|------|-------------|----------|------|
| **pre-compact.sh** | state.md, playbook, user-intent.md | - | çŠ¶æ…‹ä¿å­˜ |
| **session-end.sh** | state.md | - | ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº† |
| **stop-summary.sh** | state.md, playbook, user-intent.md | - | åœæ­¢ã‚µãƒãƒªãƒ¼ |
| **lint-check.sh** | - | - | é™çš„è§£æ |
| **pre-bash-check.sh** | protected-files.txt | - | Bash åˆ¶å¾¡ |
| **update-tracker.sh** | changes.log | - | å¤‰æ›´è¿½è·¡ |
| **doc-freshness-check.sh** | - | - | é®®åº¦ãƒã‚§ãƒƒã‚¯ |
| **failure-logger.sh** | failures.log | - | å¤±æ•—è¨˜éŒ² |
| **system-health-check.sh** | state.md, project.md, playbook | - | å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯ |
| **generate-implementation-doc.sh** | changes.log | - | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ |
| **check-file-dependencies.sh** | file-dependencies.yaml | - | ãƒ•ã‚¡ã‚¤ãƒ«ä¾å­˜è¡¨ç¤º |

### æ‰‹å‹•å®Ÿè¡Œãƒ»é–‹ç™ºç”¨

| Hook | å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² |
|------|-------------|------|
| create-pr.sh | - | PR ä½œæˆ |
| merge-pr.sh | - | PR ãƒãƒ¼ã‚¸ |
| test-hooks.sh | - | Hook ãƒ†ã‚¹ãƒˆ |
| lib/common.sh | - | å…±é€šé–¢æ•° |

---

## SubAgents ä¾å­˜é–¢ä¿‚

SubAgent ã¯ Task ãƒ„ãƒ¼ãƒ«ã§å‘¼ã³å‡ºã•ã‚Œã‚‹å°‚é–€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚å„ SubAgent ã¯ç‰¹å®šã®å½¹å‰²ã‚’æŒã¡ã¾ã™ã€‚

| SubAgent | å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ« | å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|----------|-------------|-------------------|
| **pm** | project.md, playbook-format.md, state.md | playbook=null æ™‚ |
| **critic** | playbook (done_criteria), å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ« | Phase å®Œäº†åˆ¤å®šå‰ |
| **plan-guard** | project.md, playbook, state.md | ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ |
| **reviewer** | å¯¾è±¡ã‚³ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ« | ã‚³ãƒ¼ãƒ‰å®Ÿè£…å¾Œ |
| **Explore** | ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å…¨ä½“ | èª¿æŸ»æ™‚ |
| **setup-guide** | setup/playbook-setup.md | focus=setup æ™‚ |
| **health-checker** | state.md, project.md, playbook | å®šæœŸãƒã‚§ãƒƒã‚¯æ™‚ |
| **claude-code-guide** | Claude Code ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | ä½¿ã„æ–¹è³ªå•æ™‚ |

### SubAgent è©³ç´°

- **pm SubAgent**: playbook ä½œæˆã‚’æ‹…å½“ã€‚project.milestone ã‚’å‚ç…§ã— derives_from ã‚’è¨­å®šã™ã‚‹ã€‚
- **critic SubAgent**: Phase å®Œäº†åˆ¤å®šã‚’æ‹…å½“ã€‚done_criteria ã®é”æˆã‚’æ¤œè¨¼ã— PASS/FAIL ã‚’è¿”ã™ã€‚
- **plan-guard SubAgent**: ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã«3å±¤è¨ˆç”»ã®æ•´åˆæ€§ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
- **reviewer SubAgent**: ã‚³ãƒ¼ãƒ‰å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ‹…å½“ã€‚å®Ÿè£…å¾Œã®ã‚³ãƒ¼ãƒ‰ã‚’è©•ä¾¡ã™ã‚‹ã€‚
- **Explore SubAgent**: ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹æ¢ç´¢ã‚’æ‹…å½“ã€‚ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã‚’å®Ÿè¡Œã™ã‚‹ã€‚
- **setup-guide SubAgent**: åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’ã‚¬ã‚¤ãƒ‰ã™ã‚‹ã€‚focus=setup æ™‚ã«è‡ªå‹•ç™ºç«ã€‚
- **health-checker SubAgent**: ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§ã‚’ç›£è¦–ã™ã‚‹ã€‚state.md ã¨ playbook ã®æ•´åˆæ€§ã‚’ç¢ºèªã€‚
- **claude-code-guide SubAgent**: Claude Code ã®ä½¿ã„æ–¹ã«é–¢ã™ã‚‹è³ªå•ã«å›ç­”ã™ã‚‹ã€‚

---

## Skills ä¾å­˜é–¢ä¿‚

Skill ã¯ç‰¹å®šã®çŠ¶æ³ã§å‚ç…§ã•ã‚Œã‚‹å°‚é–€çŸ¥è­˜ã§ã™ã€‚Skill ãƒ„ãƒ¼ãƒ«ã¾ãŸã¯ SubAgent ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚

| Skill | å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ« | å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|-------|-------------|-------------------|
| **state** | state.md | state.md æ›´æ–°æ™‚ |
| **learning** | failures.log | ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ |
| **plan-management** | project.md, playbook | playbook ä½œæˆæ™‚ |
| **context-management** | - | /compact æ™‚ |
| **execution-management** | - | ä¸¦åˆ—å®Ÿè¡Œæ™‚ |
| **consent-process** | - | [ç†è§£ç¢ºèª] æ™‚ |
| **context-externalization** | - | Phase å®Œäº†æ™‚ |
| **post-loop** | project.md, playbook | playbook å®Œäº†æ™‚ |
| **beginner-advisor** | state.md (expertise) | beginner ãƒ¢ãƒ¼ãƒ‰æ™‚ |
| **frontend-design** | - | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚ |
| **lint-checker** | - | ã‚³ãƒ¼ãƒ‰å¤‰æ›´æ™‚ |
| **test-runner** | - | ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ |
| **deploy-checker** | - | ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ |

### Skill è©³ç´°

**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç³» Skill**:
- **state Skill**: state.md ã®æ›´æ–°ãƒ«ãƒ¼ãƒ«ã¨æ§‹é€ ã‚’å®šç¾©ã™ã‚‹ Skillã€‚
- **plan-management Skill**: playbook ã¨ project ã®è¨ˆç”»ç®¡ç†ã‚’æ‹…å½“ã™ã‚‹ Skillã€‚
- **consent-process Skill**: [ç†è§£ç¢ºèª] ã® 5W1H å½¢å¼å‡ºåŠ›ã‚’å®šç¾©ã™ã‚‹ Skillã€‚
- **post-loop Skill**: playbook å®Œäº†å¾Œã®è‡ªå‹•å‡¦ç†ãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©ã™ã‚‹ Skillã€‚
- **context-externalization Skill**: Phase å®Œäº†æ™‚ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿å­˜ã‚’å®šç¾©ã™ã‚‹ Skillã€‚

**æ¤œè¨¼ç³» Skill**:
- **lint-checker Skill**: TypeScript/JavaScript ã®é™çš„è§£æã‚’å®Ÿè¡Œã™ã‚‹ Skillã€‚
- **test-runner Skill**: Unit/E2E ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•å®Ÿè¡Œã™ã‚‹ Skillã€‚
- **deploy-checker Skill**: ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã®æ¤œè¨¼ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ Skillã€‚

**ã‚¬ã‚¤ãƒ‰ç³» Skill**:
- **context-management Skill**: /compact æœ€é©åŒ–ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æä¾›ã™ã‚‹ Skillã€‚
- **execution-management Skill**: ä¸¦åˆ—å®Ÿè¡Œåˆ¶å¾¡ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æä¾›ã™ã‚‹ Skillã€‚
- **learning Skill**: å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨˜éŒ²ãƒ»å­¦ç¿’ã™ã‚‹ Skillã€‚
- **beginner-advisor Skill**: åˆå­¦è€…å‘ã‘ã«å°‚é–€ç”¨èªã‚’æ¯”å–©ã§èª¬æ˜ã™ã‚‹ Skillã€‚
- **frontend-design Skill**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ UI è¨­è¨ˆã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æä¾›ã™ã‚‹ Skillã€‚

---

## Core æ©Ÿèƒ½é¸å®šåŸºæº–

ã‚·ã‚¹ãƒ†ãƒ ã®æ ¹å¹¹ã‚’æ‹…ã†ã€ŒCoreã€æ©Ÿèƒ½ã¯ä»¥ä¸‹ã®åŸºæº–ã§é¸å®šã•ã‚Œã¦ã„ã¾ã™ã€‚

### é¸å®šåŸºæº–

1. **å¿…é ˆæ€§**: ãã®æ©Ÿèƒ½ãŒãªã‘ã‚Œã°ã‚·ã‚¹ãƒ†ãƒ ãŒå‹•ä½œã—ãªã„
2. **ä»£æ›¿ä¸å¯**: ä»–ã®æ©Ÿèƒ½ã§ä»£æ›¿ã§ããªã„å›ºæœ‰ã®å½¹å‰²ã‚’æŒã¤
3. **é€£é–èµ·ç‚¹**: ä»–ã®æ©Ÿèƒ½ã®å‰ææ¡ä»¶ã¨ãªã‚‹ï¼ˆä¾å­˜ã•ã‚Œã¦ã„ã‚‹ï¼‰

### Core Hooksï¼ˆ10å€‹ï¼‰

| Hook | é¸å®šç†ç”± |
|------|---------|
| session-start.sh | ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆæœŸåŒ–ã®å”¯ä¸€ã®èµ·ç‚¹ã€‚pending/consent ä½œæˆã€‚ |
| prompt-guard.sh | State Injection ã®å®Ÿè£…ã€‚systemMessage æ³¨å…¥ã®å”¯ä¸€æ‰‹æ®µã€‚ |
| init-guard.sh | Read å¿…é ˆãƒã‚§ãƒƒã‚¯ã€‚INIT ãƒ•ã‚§ãƒ¼ã‚ºã®å¼·åˆ¶ã€‚ |
| playbook-guard.sh | Edit/Write ãƒ–ãƒ­ãƒƒã‚¯ã€‚è¨ˆç”»é§†å‹•é–‹ç™ºã®å¼·åˆ¶ã€‚ |
| consent-guard.sh | [ç†è§£ç¢ºèª] å¼·åˆ¶ã€‚å ±é…¬è©æ¬ºé˜²æ­¢ã®å…¥å£ã€‚ |
| critic-guard.sh | critic PASS å¼·åˆ¶ã€‚å ±é…¬è©æ¬ºé˜²æ­¢ã®å‡ºå£ã€‚ |
| check-coherence.sh | 5å±¤å ±é…¬è©æ¬ºé˜²å¾¡ã®ä¸­æ ¸ã€‚æ•´åˆæ€§æ¤œè¨¼ã€‚ |
| log-subagent.sh | SubAgent è¿½è·¡ã€‚ç›£æŸ»è¨¼è·¡ã®è¨˜éŒ²ã€‚ |
| scope-guard.sh | ã‚¹ã‚³ãƒ¼ãƒ—å¤‰æ›´æ¤œå‡ºã€‚è¨ˆç”»é€¸è„±ã®é˜²æ­¢ã€‚ |
| executor-guard.sh | executor æ¤œè¨¼ã€‚å®Ÿè¡Œæ¨©é™ã®åˆ¶å¾¡ã€‚ |

### Core SubAgentsï¼ˆ3å€‹ï¼‰

| SubAgent | é¸å®šç†ç”± |
|----------|---------|
| pm | playbook ä½œæˆãƒ»milestone ç®¡ç†ã€‚3å±¤æ§‹é€ ã®é‹ç”¨è€…ã€‚ |
| critic | Phase å®Œäº†åˆ¤å®šã€‚å ±é…¬è©æ¬ºé˜²æ­¢ã®åˆ¤å®šè€…ã€‚ |
| plan-guard | è¨ˆç”»æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã€‚3å±¤æ§‹é€ ã®æ¤œè¨¼è€…ã€‚ |

### Core Skillsï¼ˆ2å€‹ï¼‰

| Skill | é¸å®šç†ç”± |
|-------|---------|
| state/SKILL.md | state.md ç®¡ç†ã€‚Single Source of Truth ã®é‹ç”¨çŸ¥è­˜ã€‚ |
| plan-management/SKILL.md | 3å±¤æ§‹é€ é‹ç”¨ã€‚projectâ†’playbookâ†’phase ã®ç®¡ç†çŸ¥è­˜ã€‚ |

**é™¤å¤–ç†ç”±**:
- lint-checker, test-runner, deploy-checker: æ¤œè¨¼ç³»ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾å­˜ã§å¿…é ˆã§ã¯ãªã„ã€‚
- beginner-advisor, frontend-design: ã‚¬ã‚¤ãƒ‰ç³»ã€‚ç‰¹å®šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ã®ã¿æœ‰ç”¨ã€‚
- context-management, execution-management: æœ€é©åŒ–ã€‚ãªãã¦ã‚‚å‹•ä½œã™ã‚‹ã€‚
- learning, consent-process, context-externalization, post-loop: è£œåŠ©æ©Ÿèƒ½ã€‚

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å†…å®¹ |
|-------------|------|
| [feature-map.md](./feature-map.md) | Hooks/SubAgents/Skills ã®è©³ç´°ä¸€è¦§ã¨é€£æºãƒ•ãƒ­ãƒ¼ |
| [CLAUDE.md](../CLAUDE.md) | LLM ã®è¡Œå‹•ãƒ«ãƒ¼ãƒ« |
| [playbook-format.md](../plan/template/playbook-format.md) | playbook ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |

---

## è‡ªå‹•é‹ç”¨ãƒ•ãƒ­ãƒ¼

```yaml
phase_complete:
  trigger: critic PASS
  action:
    - phase.status = done
    - æ¬¡ã® phase ã¸ï¼ˆã¾ãŸã¯ playbook å®Œäº†ã¸ï¼‰

playbook_complete:
  trigger: å…¨ phase ãŒ done
  action:
    - playbook ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
    - project.milestone ã‚’è‡ªå‹•æ›´æ–°
      - status = achieved
      - achieved_at = now()
      - playbooks[] ã«è¿½è¨˜
    - /clear æ¨å¥¨ã‚’ã‚¢ãƒŠã‚¦ãƒ³ã‚¹
    - æ¬¡ã® milestone ã‚’ç‰¹å®šï¼ˆdepends_on åˆ†æï¼‰
    - pm ã§æ–° playbook ã‚’è‡ªå‹•ä½œæˆ

project_complete:
  trigger: å…¨ milestone ãŒ achieved
  action:
    - project.status = completed
    - ã€Œæ¬¡ã®æ–¹å‘æ€§ã‚’æ•™ãˆã¦ãã ã•ã„ã€ã¨äººé–“ã«ç¢ºèª
```

---

## Hooks è©³ç´°ä»•æ§˜

å„ Hook ã®è©³ç´°ãªä»•æ§˜ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

### session-start.shï¼ˆCore Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/session-start.sh
ãƒˆãƒªã‚¬ãƒ¼: SessionStart (startup, resume, clear, compact)
æ©Ÿèƒ½: ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆæœŸåŒ–ã€çŠ¶æ…‹å¾©å…ƒã€è­¦å‘Šè¡¨ç¤º

å…¥åŠ›:
  stdin: '{"trigger": "startup|resume|clear|compact"}'

å‡ºåŠ›:
  stdout: ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ï¼ˆMISSIONã€è­¦å‘Šã€å¿…é ˆReadæŒ‡ç¤ºã€[è‡ªèª]ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
  exit_code: 0

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: last_start æ›´æ–°ã€focus/phase/playbook å–å¾—
  - plan/mission.md: MISSION statement è¡¨ç¤º
  - playbook: ç¾åœ¨ã® Phase æƒ…å ±
  - .claude/logs/failures.log: ç¹°ã‚Šè¿”ã—å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³è¡¨ç¤º
  - .claude/.session-init/user-intent.md: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ„å›³å¾©å…ƒ

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/.session-init/pending: åˆæœŸåŒ–æœªå®Œäº†ãƒ•ãƒ©ã‚°
  - .claude/.session-init/consent: åˆæ„æœªå®Œäº†ãƒ•ãƒ©ã‚°
  - .claude/.session-init/required_playbook: playbook ãƒ‘ã‚¹è¨˜éŒ²

ä¾å­˜ Hook:
  - system-health-check.sh: å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯å‘¼ã³å‡ºã—
  - generate-implementation-doc.sh: å¤‰æ›´è“„ç©æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
```

### prompt-guard.shï¼ˆCore Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/prompt-guard.sh
ãƒˆãƒªã‚¬ãƒ¼: UserPromptSubmit
æ©Ÿèƒ½: State Injectionã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¿å­˜ã€ã‚¹ã‚³ãƒ¼ãƒ—ãƒã‚§ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"prompt": "ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›"}'

å‡ºåŠ›:
  stdout: '{"systemMessage": "..."}' (State Injection æƒ…å ±)
  stderr: ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã‚¨ãƒ©ãƒ¼ï¼ˆexit 2 æ™‚ï¼‰
  exit_code: 0 (é€šå¸¸) / 2 (ã‚¹ã‚³ãƒ¼ãƒ—å¤–ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: focus, milestone, phase, playbook, config
  - plan/project.md: vision.goal, milestones
  - plan/mission.md: å ±é…¬è©æ¬ºãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º
  - .claude/logs/p*-test-results.md: last_critic åˆ¤å®š

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/.session-init/user-intent.md: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¿½è¨˜

systemMessage å†…å®¹:
  - focus, milestone, phase, playbook, branch
  - git status, remaining phases/milestones
  - project_summary, last_critic, done_criteria
```

### init-guard.shï¼ˆCore Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/init-guard.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse (*)
æ©Ÿèƒ½: å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ« Read å®Œäº†ã¾ã§ä»–ãƒ„ãƒ¼ãƒ«ã‚’ãƒ–ãƒ­ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_name": "...", "tool_input": {...}}'

å‡ºåŠ›:
  stdout: "âœ… å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«ã® Read ãŒå®Œäº†ã—ã¾ã—ãŸ"
  stderr: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0 (è¨±å¯) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: security mode (admin ã§ãƒã‚¤ãƒ‘ã‚¹)
  - .claude/.session-init/pending: åˆæœŸåŒ–çŠ¶æ…‹
  - .claude/.session-init/required_playbook: å¿…é ˆ playbook
  - .claude/.session-init/read/*: Read å®Œäº†è¨˜éŒ²

å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«:
  - plan/mission.md
  - state.md
  - playbook (å­˜åœ¨ã™ã‚‹å ´åˆ)

è¨±å¯ãƒ„ãƒ¼ãƒ«ï¼ˆRead æœªå®Œäº†ã§ã‚‚è¨±å¯ï¼‰:
  - Read, Grep, Glob
  - Bash: git status/branch/rev-parse/log/diff/checkout/switch/stash
```

### playbook-guard.shï¼ˆCore Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/playbook-guard.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit, PreToolUse:Write
æ©Ÿèƒ½: playbook=null ãªã‚‰ Edit/Write ã‚’ãƒ–ãƒ­ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_name": "Edit|Write", "tool_input": {"file_path": "..."}}'

å‡ºåŠ›:
  stdout: '{"systemMessage": "playbook æœªãƒ¬ãƒ“ãƒ¥ãƒ¼è­¦å‘Š"}' (reviewed: false æ™‚)
  stderr: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0 (è¨±å¯) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: playbook.active, config.security
  - playbook: reviewed ãƒ•ãƒ©ã‚°

ãƒã‚¤ãƒ‘ã‚¹æ¡ä»¶:
  - security: admin
  - ç·¨é›†å¯¾è±¡ãŒ state.md
  - ç·¨é›†å¯¾è±¡ãŒ playbook-*.md

ä¾å­˜ Hook:
  - failure-logger.sh: ãƒ–ãƒ­ãƒƒã‚¯æ™‚ã«å¤±æ•—è¨˜éŒ²
```

### consent-guard.shï¼ˆCore Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/consent-guard.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit, PreToolUse:Write
æ©Ÿèƒ½: [ç†è§£ç¢ºèª] å®Œäº†å‰ã® Edit/Write ã‚’ãƒ–ãƒ­ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_name": "Edit|Write", "tool_input": {...}}'

å‡ºåŠ›:
  stdout: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0 (è¨±å¯) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/.session-init/consent: å­˜åœ¨ = æœªåˆæ„ â†’ ãƒ–ãƒ­ãƒƒã‚¯

ãƒ•ãƒ­ãƒ¼:
  1. session-start.sh: consent ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
  2. LLM: [ç†è§£ç¢ºèª] å‡ºåŠ›
  3. ãƒ¦ãƒ¼ã‚¶ãƒ¼: OK
  4. LLM: rm .claude/.session-init/consent
  5. Edit/Write è¨±å¯
```

### critic-guard.shï¼ˆCore Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/critic-guard.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit
æ©Ÿèƒ½: critic PASS ãªã—ã§ state: done ã¸ã®å¤‰æ›´ã‚’ãƒ–ãƒ­ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_name": "Edit", "tool_input": {"file_path": "...", "new_string": "..."}}'

å‡ºåŠ›:
  stderr: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0 (è¨±å¯) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: self_complete ãƒ•ãƒ©ã‚°

ãƒã‚§ãƒƒã‚¯æ¡ä»¶:
  - ç·¨é›†å¯¾è±¡ãŒ state.md
  - new_string ã« "state: done" ã‚’å«ã‚€
  - self_complete: true ãŒãªã„ â†’ ãƒ–ãƒ­ãƒƒã‚¯
```

### archive-playbook.shï¼ˆCore Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/archive-playbook.sh
ãƒˆãƒªã‚¬ãƒ¼: PostToolUse:Edit
æ©Ÿèƒ½: playbook å®Œäº†æ¤œå‡ºã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ææ¡ˆã€/clear æ¨å¥¨ã‚¢ãƒŠã‚¦ãƒ³ã‚¹

å…¥åŠ›:
  stdin: '{"tool_input": {"file_path": "..."}}'

å‡ºåŠ›:
  stdout: å®Œäº†ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ï¼ˆå…ƒã‚¿ã‚¹ã‚¯ã€æˆæœç‰©ã€é€²æ—ã€ãƒã‚¯ã‚¹ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
  exit_code: 0

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - playbook: status ç¢ºèªï¼ˆå…¨ done ã‹ï¼‰
  - .claude/.session-init/user-intent.md: å…ƒã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  - plan/project.md: æ¬¡ã® milestone

ã‚¢ãƒŠã‚¦ãƒ³ã‚¹å†…å®¹:
  - ğŸ“ å…ƒã®ã‚¿ã‚¹ã‚¯
  - âœ… æˆæœç‰©
  - ğŸ“Š project é€²æ—
  - ğŸ”œ ãƒã‚¯ã‚¹ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  - âš ï¸ /clear æ¨å¥¨
```

### check-protected-edit.shï¼ˆGuard Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/check-protected-edit.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit, PreToolUse:Write
æ©Ÿèƒ½: ä¿è­·å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†ã‚’ãƒ–ãƒ­ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_input": {"file_path": "..."}}'

å‡ºåŠ›:
  stdout: è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (WARN ãƒ¬ãƒ™ãƒ«)
  stderr: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (BLOCK/HARD_BLOCK)
  exit_code: 0 (è¨±å¯/è­¦å‘Š) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/protected-files.txt: ä¿è­·å¯¾è±¡ä¸€è¦§
  - state.md: config.security (admin/trusted/strict)

ä¿è­·ãƒ¬ãƒ™ãƒ«:
  - HARD_BLOCK: security ã«é–¢ä¿‚ãªãå¸¸ã«ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆadmin é™¤ãï¼‰
  - BLOCK: strict ã§ãƒ–ãƒ­ãƒƒã‚¯ã€trusted ã§è­¦å‘Š
  - WARN: è­¦å‘Šã®ã¿ï¼ˆç·¨é›†è¨±å¯ï¼‰
```

### check-main-branch.shï¼ˆGuard Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/check-main-branch.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse (*)
æ©Ÿèƒ½: main ãƒ–ãƒ©ãƒ³ãƒã§ã®ä½œæ¥­ã‚’ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆworkspace ã®ã¿ï¼‰

å…¥åŠ›:
  stdin: '{"tool_name": "...", "tool_input": {...}}'

å‡ºåŠ›:
  stderr: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0 (è¨±å¯) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: focus.current
  - git: current branch

ãƒ–ãƒ­ãƒƒã‚¯æ¡ä»¶:
  - focus = workspace
  - branch = main ã¾ãŸã¯ master
  - ãƒ„ãƒ¼ãƒ« = Edit/Write/Bashï¼ˆRead/Grep/Glob é™¤ãï¼‰

è¨±å¯æ¡ä»¶:
  - focus = setup/product/plan-template
  - Bash: git checkout/switch/branch
  - ç·¨é›†å¯¾è±¡ãŒ state.md
```

### scope-guard.shï¼ˆGuard Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/scope-guard.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit, PreToolUse:Write
æ©Ÿèƒ½: done_when/done_criteria ã®ç„¡æ–­å¤‰æ›´ã‚’æ¤œå‡º

å…¥åŠ›:
  stdin: '{"tool_input": {"file_path": "...", "old_string": "...", "new_string": "..."}}'

å‡ºåŠ›:
  stdout: è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0 (è­¦å‘Šã®ã¿) / 2 (STRICT_MODE=true ã§ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - playbook ã¾ãŸã¯ project.md ã®ç·¨é›†ã‚’æ¤œå‡º

æ¤œå‡ºå¯¾è±¡:
  - old_string ã« done_when/done_criteria ã‚’å«ã‚€ï¼ˆæ—¢å­˜å®šç¾©ã®å¤‰æ›´ï¼‰
  - new_string ã« done_when/done_criteria ã‚’è¿½åŠ ï¼ˆæ–°è¦è¿½åŠ ï¼‰
```

### executor-guard.shï¼ˆGuard Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/executor-guard.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit, PreToolUse:Write
æ©Ÿèƒ½: executor ãŒ claudecode ä»¥å¤–ã® Phase ã§ã‚³ãƒ¼ãƒ‰ç·¨é›†ã‚’ãƒ–ãƒ­ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_input": {"file_path": "..."}}'

å‡ºåŠ›:
  stderr: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆexecutor åˆ¥ï¼‰
  exit_code: 0 (è¨±å¯) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: playbook ãƒ‘ã‚¹
  - playbook: in_progress Phase ã® executor

executor åˆ¥å¯¾å¿œ:
  - codex: Codex MCP ä½¿ç”¨ã‚’ä¿ƒã™
  - coderabbit: CodeRabbit CLI ä½¿ç”¨ã‚’ä¿ƒã™
  - user: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæ¥­ã§ã‚ã‚‹ã“ã¨ã‚’é€šçŸ¥
```

### pre-compact.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/pre-compact.sh
ãƒˆãƒªã‚¬ãƒ¼: PreCompact (auto-compact ã¾ãŸã¯ /compact)
æ©Ÿèƒ½: compact å‰ã®å®Œå…¨ãªçŠ¶æ…‹ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜

å…¥åŠ›:
  stdin: '{"trigger": "auto|manual", ...}'

å‡ºåŠ›:
  stdout: '{"additionalContext": "..."}' (çŠ¶æ…‹ã‚µãƒãƒªãƒ¼)
  exit_code: 0

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: focus, playbook, self_complete
  - playbook: current_phase, phase_goal, done_criteria
  - .claude/.session-init/user-intent.md: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ„å›³

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/.session-init/snapshot.json: æ§‹é€ åŒ–çŠ¶æ…‹ãƒ‡ãƒ¼ã‚¿
```

### log-subagent.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/log-subagent.sh
ãƒˆãƒªã‚¬ãƒ¼: PostToolUse:Task
æ©Ÿèƒ½: SubAgent ç™ºå‹•ãƒ­ã‚°è¨˜éŒ²ã€critic çµæœå‡¦ç†

å…¥åŠ›:
  stdin: '{"tool_input": {"subagent_type": "...", "description": "..."}, "tool_response": "..."}'

å‡ºåŠ›:
  stdout: critic PASS/FAIL æ¤œå‡ºæ™‚ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹
  exit_code: 0

å‚ç…§/ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/logs/subagent-dispatch.log: ç™ºå‹•ãƒ­ã‚°
  - .claude/logs/critic-results.log: critic çµæœãƒ­ã‚°

critic çµæœå‡¦ç†:
  - PASS æ¤œå‡º: self_complete æ›´æ–°ã‚’ä¿ƒã™
  - FAIL æ¤œå‡º: ä¿®æ­£ãƒ»å†å®Ÿè¡Œã‚’ä¿ƒã™
```

### failure-logger.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/failure-logger.sh
ãƒˆãƒªã‚¬ãƒ¼: ä»–ã® Hook ã‹ã‚‰å‘¼ã³å‡ºã—
æ©Ÿèƒ½: å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³è¨˜éŒ²ã€å­¦ç¿’ãƒ«ãƒ¼ãƒ—æ”¯æ´

å…¥åŠ›:
  stdin: '{"hook": "...", "context": "...", "action": "..."}'
  ã¾ãŸã¯å¼•æ•°: hook_name context [user_action]

å‡ºåŠ›:
  stdout: "Logged failure: {hook}"
  exit_code: 0

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/logs/failures.log: JSONL å½¢å¼ã®å¤±æ•—ãƒ­ã‚°ï¼ˆæœ€å¤§ 100 ä»¶ï¼‰

æä¾›é–¢æ•°:
  - log_failure(): å¤±æ•—è¨˜éŒ²
  - count_similar_failures(): åŒä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚«ã‚¦ãƒ³ãƒˆ
  - get_failure_warnings(): ç¹°ã‚Šè¿”ã—å¤±æ•—ã®è­¦å‘Šç”Ÿæˆ
```

### system-health-check.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/system-health-check.sh
ãƒˆãƒªã‚¬ãƒ¼: SessionStart (session-start.sh ã‹ã‚‰å‘¼ã³å‡ºã—)
æ©Ÿèƒ½: ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯

å…¥åŠ›: ãªã—ï¼ˆç›´æ¥å‘¼ã³å‡ºã—ï¼‰

å‡ºåŠ›:
  stdout: å•é¡Œæ¤œå‡ºæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0

ãƒã‚§ãƒƒã‚¯é …ç›®:
  1. settings.json ã®å­˜åœ¨ãƒ»æœ‰åŠ¹æ€§
  2. Hook ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ãƒ»å®Ÿè¡Œæ¨©é™
  3. SubAgent å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆcritic, pm, reviewer, health-checkerï¼‰
  4. Skills ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
  5. state.md ã®å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆfocus, playbook, goal, configï¼‰
```

### check-coherence.shï¼ˆGuard Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/check-coherence.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Bash (git commit ã‚³ãƒãƒ³ãƒ‰æ™‚)
æ©Ÿèƒ½: state.md ã¨ playbook ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

å…¥åŠ›: ãªã—ï¼ˆç›´æ¥å‘¼ã³å‡ºã—ï¼‰

å‡ºåŠ›:
  stdout: æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯çµæœ
  exit_code: 0 (é€šé) / 2 (ãƒ–ãƒ­ãƒƒã‚¯)

ãƒã‚§ãƒƒã‚¯é …ç›®:
  1. state.md ã®å­˜åœ¨
  2. focus.current ã®å–å¾—
  3. Active playbook ã®å­˜åœ¨ç¢ºèª
  4. Branch coherenceï¼ˆplaybook.branch vs git branchï¼‰
  5. Stray playbooksï¼ˆplan/ ç›´ä¸‹ã® playbookï¼‰ã®æ¤œå‡º
  6. Critic enforcementï¼ˆstate: done å¤‰æ›´æ™‚ã® self_complete ç¢ºèªï¼‰

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: focus, playbook ãƒ‘ã‚¹
  - playbook: branch, status
  - git: current branch

ä¾å­˜ Hook:
  - pre-bash-check.sh ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹
```

### depends-check.shï¼ˆGuard Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/depends-check.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit, PreToolUse:Write
æ©Ÿèƒ½: Phase ã® depends_on ã‚’æ¤œè¨¼

å…¥åŠ›:
  stdin: '{"tool_input": {...}}'

å‡ºåŠ›:
  stdout: ä¾å­˜ãƒã‚§ãƒƒã‚¯çµæœï¼ˆè­¦å‘Šã®ã¿ã€ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ï¼‰
  exit_code: 0

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: focus.current, playbook ãƒ‘ã‚¹
  - playbook: ç¾åœ¨ Phase ã® depends_on, ä¾å­˜ Phase ã® status

ãƒã‚§ãƒƒã‚¯å†…å®¹:
  - depends_on ã§æŒ‡å®šã•ã‚ŒãŸ Phase ãŒ done ã§ãªã‘ã‚Œã°è­¦å‘Š
  - ä¾å­˜ Phase æœªå®Œäº†ã§ã‚‚ä½œæ¥­ã¯ç¶šè¡Œå¯èƒ½ï¼ˆè­¦å‘Šã®ã¿ï¼‰
```

### check-file-dependencies.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/check-file-dependencies.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Edit, PreToolUse:Write
æ©Ÿèƒ½: ãƒ•ã‚¡ã‚¤ãƒ«ä¾å­˜é–¢ä¿‚ã®è¡¨ç¤º

å…¥åŠ›:
  stdin: '{"tool_input": {"file_path": "..."}}'

å‡ºåŠ›:
  stdout: ä¾å­˜å…ˆãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ï¼ˆæƒ…å ±æä¾›ã®ã¿ï¼‰
  exit_code: 0ï¼ˆå¸¸ã«é€šéï¼‰

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/file-dependencies.yaml: affects, reason, check_level

è¡¨ç¤ºå†…å®¹:
  - å¤‰æ›´æ™‚ã«ç¢ºèªãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
  - ç†ç”±ï¼ˆreasonï¼‰
  - ç¢ºèªãƒ¬ãƒ™ãƒ«ï¼ˆrequired/recommended/optionalï¼‰

ä¾å­˜ Hook:
  - lib/common.sh: å…±é€šé–¢æ•°
```

### session-end.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/session-end.sh
ãƒˆãƒªã‚¬ãƒ¼: SessionEnd
æ©Ÿèƒ½: ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ãƒ»ã‚µãƒãƒªãƒ¼ç”Ÿæˆ

å…¥åŠ›: ãªã—

å‡ºåŠ›:
  stdout: ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚µãƒãƒªãƒ¼
  exit_code: 0

è‡ªå‹•æ›´æ–°:
  - state.md ã® last_end
  - state.md ã® uncommitted_warning

ãƒã‚§ãƒƒã‚¯é …ç›®:
  1. æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´
  2. å››ã¤çµ„æ•´åˆæ€§ï¼ˆstate-plan-git-branchï¼‰
  3. critic ãƒªãƒã‚¤ãƒ³ãƒ‰
  4. æœª push ã‚³ãƒŸãƒƒãƒˆ

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/logs/sessions/{date}_session-{num}.md: ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚µãƒãƒªãƒ¼
```

### stop-summary.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/stop-summary.sh
ãƒˆãƒªã‚¬ãƒ¼: Stopï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåœæ­¢è©¦è¡Œæ™‚ï¼‰
æ©Ÿèƒ½: Phase çŠ¶æ…‹ã‚µãƒãƒªãƒ¼å‡ºåŠ›

å…¥åŠ›:
  stdin: '{"stop_hook_active": boolean}'

å‡ºåŠ›:
  stdout: Phase çŠ¶æ…‹ã‚µãƒãƒªãƒ¼ + ãƒ¦ãƒ¼ã‚¶ãƒ¼æ„å›³ã¨ã®æ•´åˆæ€§
  exit_code: 0ï¼ˆãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ï¼‰

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: focus, playbook ãƒ‘ã‚¹, self_complete
  - playbook: current phase, goal, status, done_criteria
  - .claude/.session-init/user-intent.md: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ„å›³

è¡¨ç¤ºå†…å®¹:
  - Focus, Playbook, Current Phase
  - Phases çŠ¶æ…‹ã‚«ã‚¦ãƒ³ãƒˆï¼ˆdone/in_progress/pendingï¼‰
  - Criteria é”æˆçŠ¶æ³
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ„å›³ã¨ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
```

### lint-check.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/lint-check.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Bash (git commit/add ã‚³ãƒãƒ³ãƒ‰æ™‚)
æ©Ÿèƒ½: ã‚³ãƒŸãƒƒãƒˆå‰ã®é™çš„è§£æãƒã‚§ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_name": "Bash", "tool_input": {"command": "..."}}'

å‡ºåŠ›:
  stderr: Linter çµæœ
  exit_code: 0ï¼ˆè­¦å‘Šã®ã¿ã€ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ï¼‰

ãƒã‚§ãƒƒã‚¯å¯¾è±¡:
  1. JavaScript/TypeScript: ESLint (pnpm lint)
  2. Shell ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: ShellCheck (.claude/hooks/*.sh)
  3. Python: Ruff (pyproject.toml å­˜åœ¨æ™‚)

ç‰¹å¾´:
  - è­¦å‘Šã®ã¿ã§ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ï¼ˆé–‹ç™ºè€…ã®åˆ¤æ–­ã«å§”ã­ã‚‹ï¼‰
```

### pre-bash-check.shï¼ˆGuard Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/pre-bash-check.sh
ãƒˆãƒªã‚¬ãƒ¼: PreToolUse:Bash
æ©Ÿèƒ½: Bash ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå‰ã®ä¿è­·ãƒã‚§ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"tool_input": {"command": "..."}}'

å‡ºåŠ›:
  stderr: ãƒ–ãƒ­ãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0 (é€šé) / 1 (ãƒ–ãƒ­ãƒƒã‚¯)

ãƒã‚§ãƒƒã‚¯å†…å®¹:
  1. HARD_BLOCK ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ›¸ãè¾¼ã¿ï¼ˆå¸¸æ™‚ãƒ–ãƒ­ãƒƒã‚¯ï¼‰
  2. BLOCK ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ›¸ãè¾¼ã¿ï¼ˆstrict ãƒ¢ãƒ¼ãƒ‰ã§ãƒ–ãƒ­ãƒƒã‚¯ï¼‰
  3. git commit æ™‚ã®å›å¸°ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  4. git commit æ™‚ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: security.mode
  - .claude/tests/regression-test.sh: å›å¸°ãƒ†ã‚¹ãƒˆ

ä¾å­˜ Hook:
  - check-coherence.sh: git commit æ™‚ã«å‘¼ã³å‡ºã—
  - check-state-update.sh: git commit æ™‚ã«å‘¼ã³å‡ºã—
```

### update-tracker.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/update-tracker.sh
ãƒˆãƒªã‚¬ãƒ¼: PostToolUse:Edit, PostToolUse:Write
æ©Ÿèƒ½: å¤‰æ›´è¿½è·¡ã¨è‡ªå‹•æ›´æ–°ææ¡ˆ

å…¥åŠ›:
  stdin: '{"params": {"file_path": "..."}}'

å‡ºåŠ›:
  stdout: '{"systemMessage": "..."}' (æ›´æ–°ææ¡ˆ)
  exit_code: 0

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/logs/changes.log: å¤‰æ›´ãƒ­ã‚°

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/logs/changes.log: JSONL å½¢å¼ã®å¤‰æ›´ãƒ­ã‚°ï¼ˆæœ€å¤§ 100 ä»¶ï¼‰

å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/hooks/*
  - .claude/agents/*
  - .claude/skills/*
  - .claude/frameworks/*
  - .claude/settings.json
  - plan/template/*

ææ¡ˆå†…å®¹:
  - 5 ä»¶ä»¥ä¸Šã®å¤‰æ›´è“„ç©: è‡ªå‹•ç”Ÿæˆã‚’å¼·ãæ¨å¥¨
  - é€šå¸¸: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°æ¨å¥¨
```

### doc-freshness-check.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/doc-freshness-check.sh
ãƒˆãƒªã‚¬ãƒ¼: PostToolUse:Read
æ©Ÿèƒ½: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé®®åº¦ãƒã‚§ãƒƒã‚¯

å…¥åŠ›:
  stdin: '{"params": {"file_path": "..."}}'

å‡ºåŠ›:
  stdout: '{"systemMessage": "..."}' (è­¦å‘Š)
  exit_code: 0

å¯¾è±¡ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:
  - current-implementation.md: é–¢é€£ = .claude/hooks, .claude/agents, .claude/skills
  - CLAUDE.md: é–¢é€£ = state.md, plan/template/playbook-format.md
  - extension-system.md: é–¢é€£ = .claude/settings.json

ãƒã‚§ãƒƒã‚¯å†…å®¹:
  - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°æ—¥ vs é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ—¥
  - 3 æ—¥ä»¥ä¸Šã®ä¹–é›¢ã§è­¦å‘Š
  - current-implementation.md ã¯è‡ªå‹•ä¿®å¾©ææ¡ˆ
```

### generate-implementation-doc.shï¼ˆUtility Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/generate-implementation-doc.sh
ãƒˆãƒªã‚¬ãƒ¼: æ‰‹å‹•å®Ÿè¡Œ
æ©Ÿèƒ½: current-implementation.md ã®è‡ªå‹•ç”Ÿæˆ

å…¥åŠ›: ãªã—

å‡ºåŠ›:
  stdout: ç”Ÿæˆå®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  exit_code: 0

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
  - docs/current-implementation.md

ç”Ÿæˆã‚»ã‚¯ã‚·ãƒ§ãƒ³:
  1. Hooks: settings.json ã‹ã‚‰è‡ªå‹•æŠ½å‡º
  2. SubAgents: .claude/agents/*.md ã‹ã‚‰è‡ªå‹•æŠ½å‡º
  3. Skills: .claude/skills/*/skill.md ã‹ã‚‰è‡ªå‹•æŠ½å‡º
  4. Frameworks: .claude/frameworks/*.md ã‹ã‚‰è‡ªå‹•æŠ½å‡º
  5. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±
  6. çµ±è¨ˆæƒ…å ±

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/settings.json
  - .claude/agents/*.md
  - .claude/skills/*/skill.md
  - .claude/frameworks/*.md
```

### create-pr.shï¼ˆæ‰‹å‹•å®Ÿè¡Œ Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/create-pr.sh
ãƒˆãƒªã‚¬ãƒ¼: POST_LOOPï¼ˆplaybook å®Œäº†å¾Œï¼‰
æ©Ÿèƒ½: GitHub PR ã®è‡ªå‹•ä½œæˆ

å…¥åŠ›: ãªã—ï¼ˆstate.md ã¨ playbook ã‹ã‚‰æƒ…å ±å–å¾—ï¼‰

å‡ºåŠ›:
  stdout: PR URL
  exit_code: 0 (æˆåŠŸ) / 1 (ã‚¨ãƒ©ãƒ¼) / 2 (ã‚¹ã‚­ãƒƒãƒ—)

å‰ææ¡ä»¶:
  - gh CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
  - gh auth ã§ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿
  - ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒãŒ main ã§ã¯ãªã„
  - ãƒªãƒ¢ãƒ¼ãƒˆã¸ push æ¸ˆã¿

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: focus, playbook ãƒ‘ã‚¹
  - playbook: goal.summary, done_when, phases

PR æœ¬æ–‡å†…å®¹:
  - Summary
  - Playbook æƒ…å ±ï¼ˆName, Phase, Path, Focusï¼‰
  - Done Whenï¼ˆPlaybook Goalï¼‰
  - Done Criteriaï¼ˆCurrent Phaseï¼‰
  - Completed Phases
```

### lib/common.shï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/lib/common.sh
ãƒˆãƒªã‚¬ãƒ¼: ä»–ã® Hook ã‹ã‚‰ source ã•ã‚Œã‚‹
æ©Ÿèƒ½: å…±é€šé–¢æ•°ãƒ»å¤‰æ•°ã®æä¾›

æä¾›å†…å®¹:
  1. è‰²å®šç¾©: RED, GREEN, YELLOW, BLUE, CYAN, NC
  2. ãƒ‘ã‚¹å®šç¾©: WORKSPACE_ROOT, STATE_MD, CLAUDE_MD ç­‰
  3. state.md å–å¾—é–¢æ•°:
     - get_focus(): focus.current ã‚’å–å¾—
     - get_security_mode(): security.mode ã‚’å–å¾—
     - get_playbook(): ã‚¢ã‚¯ãƒ†ã‚£ãƒ– playbook ã‚’å–å¾—
     - get_current_milestone(): ç¾åœ¨ã® milestone ã‚’å–å¾—
     - get_current_phase(): ç¾åœ¨ã® phase ã‚’å–å¾—
  4. Git é–¢æ•°:
     - get_branch(): ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒå
     - is_main_branch(): main ãƒ–ãƒ©ãƒ³ãƒåˆ¤å®š
     - has_uncommitted_changes(): æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´åˆ¤å®š
     - has_unpushed_commits(): æœª push ã‚³ãƒŸãƒƒãƒˆåˆ¤å®š
  5. ãƒ•ã‚¡ã‚¤ãƒ«ä¾å­˜é–¢ä¿‚é–¢æ•°:
     - get_file_dependencies(): ä¾å­˜å…ˆã‚’å–å¾—
  6. å‡ºåŠ›é–¢æ•°:
     - log_error(), log_warn(), log_info(), log_success()
  7. SubAgent é–¢é€£é–¢æ•°:
     - log_subagent_dispatch(): ãƒ­ã‚°è¨˜éŒ²
     - check_recent_subagent(): ç›´è¿‘å‘¼ã³å‡ºã—ãƒã‚§ãƒƒã‚¯
  8. JSON ãƒ‘ãƒ¼ã‚¹é–¢æ•°:
     - json_get(): ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å–å¾—
     - get_tool_file_path(): file_path å–å¾—
     - get_tool_command(): command å–å¾—
```

### merge-pr.shï¼ˆæ‰‹å‹•å®Ÿè¡Œ Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/merge-pr.sh
ãƒˆãƒªã‚¬ãƒ¼: POST_LOOPï¼ˆplaybook å®Œäº†å¾Œï¼‰/ æ‰‹å‹•å®Ÿè¡Œ
æ©Ÿèƒ½: GitHub PR ã®è‡ªå‹•ãƒãƒ¼ã‚¸

å…¥åŠ›:
  å¼•æ•°: PRç•ªå·ï¼ˆçœç•¥æ™‚ã¯ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã® PR ã‚’è‡ªå‹•æ¤œç´¢ï¼‰
  stdin: ãªã—

å‡ºåŠ›:
  stdout: PR æƒ…å ±ã€ãƒãƒ¼ã‚¸çŠ¶æ…‹ã€åŒæœŸçµæœ
  exit_code:
    0: æˆåŠŸï¼ˆãƒãƒ¼ã‚¸å®Œäº† or è‡ªå‹•ãƒãƒ¼ã‚¸è¨­å®šæ¸ˆã¿ï¼‰
    1: ã‚¨ãƒ©ãƒ¼ï¼ˆPR æœªç™ºè¦‹ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã€ãƒ–ãƒ­ãƒƒã‚¯ç­‰ï¼‰

å‰ææ¡ä»¶:
  - gh CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
  - gh auth ã§ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿
  - Git ãƒªãƒã‚¸ãƒˆãƒªå†…ã§å®Ÿè¡Œ
  - PR ãŒå­˜åœ¨ã—ã€Draft ã§ãªã„

å‡¦ç†ãƒ•ãƒ­ãƒ¼:
  1. PR ç•ªå·å–å¾—ï¼ˆå¼•æ•°ã¾ãŸã¯ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰æ¤œç´¢ï¼‰
  2. PR æƒ…å ±å–å¾—ï¼ˆstate, isDraft, mergeable, mergeStateStatusï¼‰
  3. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯
     - CLOSED/MERGED â†’ ã‚¨ãƒ©ãƒ¼ or çµ‚äº†
     - Draft â†’ ã‚¨ãƒ©ãƒ¼ï¼ˆgh pr ready ã§è§£é™¤ã‚’æ¡ˆå†…ï¼‰
     - CONFLICTING â†’ ã‚¨ãƒ©ãƒ¼ï¼ˆã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºæ‰‹é †ã‚’æ¡ˆå†…ï¼‰
     - BLOCKED â†’ ã‚¨ãƒ©ãƒ¼ï¼ˆå¿…é ˆãƒã‚§ãƒƒã‚¯æœªé€šéï¼‰
     - BEHIND â†’ è­¦å‘Šï¼ˆç¶šè¡Œå¯èƒ½ï¼‰
  4. ãƒãƒ¼ã‚¸å®Ÿè¡Œï¼ˆgh pr merge --merge --auto --delete-branchï¼‰
  5. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ©ãƒ³ãƒåŒæœŸï¼ˆfetch + checkout + pullï¼‰

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: playbook ãƒ‘ã‚¹ã€goal summaryï¼ˆãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”¨ï¼‰

ç”Ÿæˆã™ã‚‹ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆæœ¬æ–‡:
  - Summary
  - PR Detailsï¼ˆç•ªå·ã€ãƒ–ãƒ©ãƒ³ãƒã€Playbookï¼‰
  - Co-Authored-By ãƒ˜ãƒƒãƒ€ãƒ¼

ä¾å­˜ãƒ„ãƒ¼ãƒ«:
  - gh CLI
  - jq
  - git
```

### test-hooks.shï¼ˆé–‹ç™ºç”¨ Hookï¼‰

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/hooks/test-hooks.sh
ãƒˆãƒªã‚¬ãƒ¼: æ‰‹å‹•å®Ÿè¡Œï¼ˆé–‹ç™ºãƒ»æ¤œè¨¼æ™‚ï¼‰
æ©Ÿèƒ½: Hook æ©Ÿèƒ½ã‚«ã‚¿ãƒ­ã‚°ã‚¹ãƒšãƒƒã‚¯æ¤œè¨¼

å…¥åŠ›:
  å¼•æ•°: --verboseï¼ˆè©³ç´°å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰ã€çœç•¥å¯ï¼‰
  stdin: ãªã—

å‡ºåŠ›:
  stdout: ãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒªãƒ¼
    âœ… PASS: æœŸå¾…é€šã‚Šå‹•ä½œ
    âŒ FAIL: å‹•ä½œç•°å¸¸
    â­ï¸ SKIP: ãƒ•ã‚¡ã‚¤ãƒ«æœªå­˜åœ¨
  exit_code:
    0: å…¨ãƒ†ã‚¹ãƒˆ PASS
    1: 1ä»¶ä»¥ä¸Š FAIL

ãƒ†ã‚¹ãƒˆå¯¾è±¡ Hook:
  1. session-start.shï¼ˆstartup/compact ãƒˆãƒªã‚¬ãƒ¼ï¼‰
  2. pre-compact.shï¼ˆadditionalContext å‡ºåŠ›ï¼‰
  3. playbook-guard.shï¼ˆçŠ¶æ…‹ä¾å­˜ï¼‰
  4. init-guard.shï¼ˆçŠ¶æ…‹ä¾å­˜ï¼‰
  5. system-health-check.shï¼ˆå•é¡Œãªã—æ™‚ã¯å‡ºåŠ›ãªã—ï¼‰
  6. doc-freshness-check.shï¼ˆé®®åº¦å•é¡Œãªã—æ™‚ã¯å‡ºåŠ›ãªã—ï¼‰
  7. update-tracker.shï¼ˆæ›´æ–°ææ¡ˆ JSONï¼‰
  8. failure-logger.shï¼ˆå¤±æ•—è¨˜éŒ²ï¼‰
  9. generate-implementation-doc.shï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆï¼‰

æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯:
  1. ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯ â†’ ä¸åœ¨ãªã‚‰ SKIP
  2. å®Ÿè¡Œæ¨©é™ãƒã‚§ãƒƒã‚¯ â†’ ç„¡ã‘ã‚Œã° FAIL
  3. ãƒ†ã‚¹ãƒˆå…¥åŠ›ã‚’æŠ•å…¥ã—ã¦å®Ÿè¡Œ
  4. å‡ºåŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°
     - æœŸå¾…ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãƒãƒƒãƒ â†’ PASS
     - EMPTY: å‡ºåŠ›ãªã— = æ­£å¸¸ â†’ PASS
     - EMPTY_OR_JSON: å‡ºåŠ›ãªã— or JSON â†’ PASS
     - ãã‚Œä»¥å¤– â†’ FAIL

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - ãªã—ï¼ˆHook ãƒ•ã‚¡ã‚¤ãƒ«è‡ªä½“ã‚’ãƒ†ã‚¹ãƒˆï¼‰

ä¿®å¾©ã‚³ãƒãƒ³ãƒ‰ä¾‹:
  chmod +x .claude/hooks/*.sh
```

---

## SubAgents è©³ç´°ä»•æ§˜

### pm SubAgent

```yaml
subagent_type: pm
å½¹å‰²: playbook ä½œæˆãƒ»ç®¡ç†

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - playbook=null ã§æ–°è¦ã‚¿ã‚¹ã‚¯é–‹å§‹æ™‚
  - milestone å®Œäº†å¾Œã®æ¬¡ã‚¿ã‚¹ã‚¯å°å‡ºæ™‚

å…¥åŠ›:
  prompt: "playbook ã‚’ä½œæˆã—ã¦ãã ã•ã„" ãªã©

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - plan/project.md: milestones, depends_on, decomposition
  - plan/template/playbook-format.md: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
  - state.md: focus, ç¾åœ¨ã® playbook

å‡ºåŠ›:
  - plan/active/playbook-{name}.md ä½œæˆ
  - state.md ã® playbook.active æ›´æ–°
  - ãƒ–ãƒ©ãƒ³ãƒä½œæˆï¼ˆfeat/{name}ï¼‰

derives_from è¨­å®š:
  - playbook.meta.derives_from ã« milestone ID ã‚’è¨­å®š
  - milestone å®Œäº†æ™‚ã®è‡ªå‹•æ›´æ–°ã«ä½¿ç”¨
```

### critic SubAgent

```yaml
subagent_type: critic
å½¹å‰²: Phase å®Œäº†åˆ¤å®šã€å ±é…¬è©æ¬ºé˜²æ­¢

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - Phase å®Œäº†åˆ¤å®šå‰ï¼ˆLOOP å†…ï¼‰
  - done_criteria ã®æ¤œè¨¼æ™‚

å…¥åŠ›:
  prompt: æ¤œè¨¼å¯¾è±¡ã® done_criteria ã¨è¨¼æ‹ 

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - playbook: done_criteria, test_command
  - å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«: è¨¼æ‹ ã¨ãªã‚‹ã‚³ãƒ¼ãƒ‰ãƒ»å‡ºåŠ›
  - .claude/rules/frameworks/done-criteria-validation.md

å‡ºåŠ›:
  - PASS: å…¨ done_criteria æº€ãŸã™ â†’ state.md ã® self_complete: true
  - FAIL: ä¸è¶³ã‚ã‚Š â†’ ä¿®æ­£ã‚’ä¿ƒã™

5å±¤å ±é…¬è©æ¬ºé˜²å¾¡:
  L1: CLAUDE.md LOOP/CRITIQUE
  L2: critic SubAgentï¼ˆã“ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰
  L3: critic-guard.sh
  L4: check-coherence.sh
  L5: log-subagent.sh
```

### Explore SubAgent

```yaml
subagent_type: Explore
å½¹å‰²: ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹æ¢ç´¢ã€ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - ã‚ªãƒ¼ãƒ—ãƒ³ã‚¨ãƒ³ãƒ‰ãªæ¤œç´¢ã‚¿ã‚¹ã‚¯
  - ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹æ§‹é€ ã®æŠŠæ¡
  - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œç´¢

å…¥åŠ›:
  prompt: æ¢ç´¢å†…å®¹ã®èª¬æ˜
  thoroughness: quick | medium | very thorough

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å…¨ä½“

å‡ºåŠ›:
  - æ¤œç´¢çµæœã‚µãƒãƒªãƒ¼
  - è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
  - ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ
```

### plan-guard SubAgent

```yaml
subagent_type: plan-guard
å½¹å‰²: 3å±¤è¨ˆç”»ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚
  - è¨ˆç”»å¤‰æ›´æ™‚
  - playbook ä½œæˆå‰

å…¥åŠ›:
  prompt: ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã®èª¬æ˜

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - plan/project.md: milestones, vision
  - playbook: phases, derives_from
  - state.md: focus, goal

å‡ºåŠ›:
  - æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯çµæœ
  - å•é¡Œç‚¹ã®æŒ‡æ‘˜
  - ä¿®æ­£ææ¡ˆ
```

### reviewer SubAgent

```yaml
subagent_type: reviewer
å½¹å‰²: ã‚³ãƒ¼ãƒ‰/è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - ã‚³ãƒ¼ãƒ‰å®Ÿè£…å®Œäº†å¾Œ
  - è¨­è¨ˆå¤‰æ›´æ™‚
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã€ã¨è¨€ã£ãŸå ´åˆ

å…¥åŠ›:
  prompt: ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡ã®èª¬æ˜

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - å¯¾è±¡ã‚³ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«
  - é–¢é€£ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
  - è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

å‡ºåŠ›:
  - ã‚³ãƒ¼ãƒ‰å“è³ªè©•ä¾¡
  - æ”¹å–„ææ¡ˆ
  - ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®æç¤º

åˆ©ç”¨ãƒ„ãƒ¼ãƒ«:
  - Read, Grep, Glob, Bash
```

### setup-guide SubAgent

```yaml
subagent_type: setup-guide
å½¹å‰²: åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - focus.current = setup æ™‚
  - æ–°è¦ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚

å…¥åŠ›:
  prompt: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¯¾è±¡ã®èª¬æ˜

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - setup/playbook-setup.md
  - .env.example
  - package.json

å‡ºåŠ›:
  - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
  - å¿…è¦ãªç’°å¢ƒå¤‰æ•°
  - æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰

åˆ©ç”¨ãƒ„ãƒ¼ãƒ«:
  - Read, Write, Edit, Bash, Grep, Glob
```

### health-checker SubAgent

```yaml
subagent_type: health-checker
å½¹å‰²: ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®å®šæœŸç›£è¦–

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - å®šæœŸãƒã‚§ãƒƒã‚¯æ™‚
  - å•é¡Œç™ºç”Ÿæ™‚ã®è¨ºæ–­

å…¥åŠ›:
  prompt: ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã®èª¬æ˜

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md
  - plan/project.md
  - playbook

å‡ºåŠ›:
  - ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§ãƒ¬ãƒãƒ¼ãƒˆ
  - å•é¡Œç‚¹ã®æ¤œå‡º
  - ä¿®å¾©ææ¡ˆ

åˆ©ç”¨ãƒ„ãƒ¼ãƒ«:
  - Read, Grep, Glob, Bash
```

### claude-code-guide SubAgent

```yaml
subagent_type: claude-code-guide
å½¹å‰²: Claude Code / Agent SDK ã®ä½¿ã„æ–¹æ¡ˆå†…

å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒClaude Code ã§...ã€ã¨è³ªå•
  - Hook ã‚„ Skill ã®ä½¿ã„æ–¹ã‚’èã‹ã‚ŒãŸå ´åˆ
  - Agent SDK ã®ä½¿ã„æ–¹ã‚’èã‹ã‚ŒãŸå ´åˆ

å…¥åŠ›:
  prompt: è³ªå•å†…å®¹

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - Claude Code å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  - æ—¢å­˜ã®å®Ÿè£…ä¾‹

å‡ºåŠ›:
  - ä½¿ã„æ–¹ã®èª¬æ˜
  - ã‚³ãƒ¼ãƒ‰ä¾‹
  - å‚è€ƒãƒªãƒ³ã‚¯

åˆ©ç”¨ãƒ„ãƒ¼ãƒ«:
  - Glob, Grep, Read, WebFetch, WebSearch
```

---

## Skills è©³ç´°ä»•æ§˜

### consent-process Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/consent-process/skill.md
å½¹å‰²: [ç†è§£ç¢ºèª] ã® 5W1H å½¢å¼å‡ºåŠ›å®šç¾©

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - playbook=null ã§æ–°è¦ã‚¿ã‚¹ã‚¯é–‹å§‹æ™‚
  - Edit/Write å‰ã®åˆæ„å–å¾—ãŒå¿…è¦ãªæ™‚

5W1H ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:
  Whatï¼ˆä½•ã‚’ï¼‰: ã‚¿ã‚¹ã‚¯è¦ç´„
  Whyï¼ˆãªãœï¼‰: ç›®çš„ãƒ»èƒŒæ™¯
  Whoï¼ˆèª°ãŒï¼‰: executorï¼ˆclaudecode/user/codexï¼‰
  Whenï¼ˆã„ã¤ã¾ã§ã«ï¼‰: æœŸé™
  Whereï¼ˆã©ã“ã«ï¼‰: æ–°è¦ä½œæˆ/æ›´æ–°/å¤‰æ›´ãªã—ãƒ•ã‚¡ã‚¤ãƒ«
  Howï¼ˆã©ã®ã‚ˆã†ã«ï¼‰: æ‰‹é †

é€£æº Hook:
  - consent-guard.sh: consent ãƒ•ã‚¡ã‚¤ãƒ«æœ‰ç„¡ãƒã‚§ãƒƒã‚¯
  - session-start.sh: consent ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
```

### post-loop Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/post-loop/skill.md
å½¹å‰²: playbook å®Œäº†å¾Œã®è‡ªå‹•å‡¦ç†ãƒ•ãƒ­ãƒ¼å®šç¾©

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - playbook ã®å…¨ Phase ãŒ done ã«ãªã£ãŸæ™‚

è¡Œå‹•ãƒ•ãƒ­ãƒ¼:
  0. è‡ªå‹•ã‚³ãƒŸãƒƒãƒˆï¼ˆæœ€çµ‚ Phase åˆ†ï¼‰
  0.5. playbook ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆ.archive/plan/ ã¸ç§»å‹•ï¼‰
  1. GitHub PR ä½œæˆï¼ˆcreate-pr-hook.shï¼‰
  2. GitHub PR ãƒãƒ¼ã‚¸ï¼ˆmerge-pr.shï¼‰
  3. project.milestone è‡ªå‹•æ›´æ–°ï¼ˆstatus: achievedï¼‰
  4. /clear ã‚¢ãƒŠã‚¦ãƒ³ã‚¹
  5. æ¬¡ã‚¿ã‚¹ã‚¯å°å‡ºï¼ˆpm çµŒç”±ï¼‰
  6-7. æ®‹ã‚¿ã‚¹ã‚¯ã‚ã‚Š â†’ æ–° playbook / ãªã— â†’ å¾…æ©Ÿ

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - playbook: derives_from
  - plan/project.md: milestones
  - .claude/.session-init/user-intent.md: å…ƒã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
```

### context-externalization Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/context-externalization/skill.md
å½¹å‰²: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¤–éƒ¨åŒ–ã€ä½œæ¥­è¨˜éŒ²

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - Phase å®Œäº†æ™‚ï¼ˆå¿…é ˆï¼‰
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰æ–°ã—ã„æŒ‡ç¤ºã‚’å—ã‘ãŸã¨ã
  - é‡è¦ãªæŠ€è¡“çš„ç™ºè¦‹æ™‚
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†å‰

è¨˜éŒ²å…ˆ: .claude/logs/context-log.md

è¨˜éŒ²ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:
  - [HH:MM] Entry: {ã‚¿ã‚¹ã‚¯å}
  - User Prompt, Intent, Actions, Result
  - Technical Notes, Files Changed, Playbook Phase
```

### test-runner Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/test-runner/skill.md
å½¹å‰²: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»æ¤œè¨¼

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆãƒ»ç·¨é›†å¾Œ
  - done_criteria æ¤œè¨¼æ™‚
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒ†ã‚¹ãƒˆå®Ÿè¡Œã—ã¦ã€ã¨è¨€ã£ãŸå ´åˆ

ãƒ†ã‚¹ãƒˆç¨®é¡:
  1. Unit Tests: pnpm test
  2. E2E Tests: pnpm test:e2e
  3. Type Checks: pnpm tsc --noEmit
  4. Build Test: pnpm build

å‡ºåŠ›å½¢å¼:
  - å„ãƒ†ã‚¹ãƒˆã® PASS/FAIL
  - å¤±æ•—è©³ç´°ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«:è¡Œï¼‰
  - Summary: Status, Passed, Failed, Build
```

### lint-checker Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/lint-checker/skill.md
å½¹å‰²: ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - TypeScript/JavaScript ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆãƒ»ç·¨é›†å¾Œ
  - ã‚³ãƒŸãƒƒãƒˆå‰
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œlint ã—ã¦ã€ã¨è¨€ã£ãŸå ´åˆ

ãƒã‚§ãƒƒã‚¯é …ç›®:
  1. ESLint ãƒ«ãƒ¼ãƒ«é•å
  2. TypeScript ã‚¨ãƒ©ãƒ¼
  3. ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
  4. ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

å‡ºåŠ›å½¢å¼:
  - ESLint: errors/warnings
  - TypeScript: type errors
  - Recommendations: ä¿®æ­£æ–¹æ³•
```

### state Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/state/SKILL.md
å½¹å‰²: state.md ç®¡ç†ã€playbook é‹ç”¨ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ã®å°‚é–€çŸ¥è­˜

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - state.md ã®æ›´æ–°æ™‚
  - focus ã®åˆ‡ã‚Šæ›¿ãˆæ™‚
  - done_criteria ã®åˆ¤å®šæ™‚
  - CRITIQUE ã®å®Ÿè¡Œæ™‚

å†…å®¹:
  1. state.md ã®æ§‹é€ å®šç¾©
     - focus: current, session
     - goal: phase, done_criteria
     - layer å®šç¾©ï¼ˆ4ã¤ï¼‰
  2. ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç·¨é›†æ¨©é™
  3. session ã®é•ã„ï¼ˆtask/discussionï¼‰
  4. CRITIQUE ã®å®Ÿè¡Œæ–¹æ³•
  5. state.md æ›´æ–°ã®ãƒ«ãƒ¼ãƒ«
  6. çŠ¶æ…‹é·ç§»ãƒ«ãƒ¼ãƒ«
  7. playbook å¿…é ˆãƒ«ãƒ¼ãƒ«
  8. playbook ä½œæˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md
  - plan/template/playbook-format.md
```

### learning Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/learning/SKILL.md
å½¹å‰²: å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨˜éŒ²ãƒ»å­¦ç¿’

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã¨ã
  - critic ãŒ FAIL ã‚’è¿”ã—ãŸã¨ã
  - ä½œæ¥­ãŒè¡Œãè©°ã¾ã£ãŸã¨ã
  - åŒã˜å•é¡ŒãŒç¹°ã‚Šè¿”ã•ã‚Œã¦ã„ã‚‹ã¨ã

å†…å®¹:
  1. å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨˜éŒ²
     - è¨˜éŒ²å…ˆ: .claude/logs/failures.log
     - å½¢å¼: JSONLï¼ˆ1è¡Œ1ãƒ¬ã‚³ãƒ¼ãƒ‰ï¼‰
     - ä¿æŒ: æœ€æ–° 100 ä»¶
  2. å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†é¡
     - critic_fail, hook_block, error, timeout
  3. å­¦ç¿’ã®æ´»ç”¨
     - ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã®ç¢ºèª
     - åŒç¨®ã‚¿ã‚¹ã‚¯å®Ÿè¡Œæ™‚ã®å‚ç…§
     - å®šæœŸçš„ãªæŒ¯ã‚Šè¿”ã‚Š
  4. éå» playbook å‚ç…§æ©Ÿèƒ½
     - ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å‚ç…§
     - é¡ä¼¼ Phase ã®æ¤œç´¢
     - éå»ã®æ•™è¨“ã®å‡ºåŠ›

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - .claude/logs/failures.log
  - .archive/plan/playbook-*.md
```

### plan-management Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/plan-management/SKILL.md
å½¹å‰²: Multi-layer planning and playbook management

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - playbook ä½œæˆæ™‚
  - phase é·ç§»æ™‚
  - "plan", "playbook", "phase", "roadmap", "milestone" ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡ºæ™‚
  - session=task ã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚

å†…å®¹:
  1. Plan Hierarchy Structure
     - roadmap â†’ milestones â†’ playbooks â†’ phases
  2. Playbook Creation Flow
  3. Phase Transition Rules
     - ç¦æ­¢é·ç§»ã®å®šç¾©
     - Phase å®Œäº†æ¡ä»¶
  4. Four-Tuple Coherence
     - focus.current, layer.state, playbook, branch
  5. Session Start Checklist
  6. Integration with Hooks

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - plan/project.md: roadmap
  - playbook: phases
  - state.md: focus, plan_hierarchy
```

### context-management Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/context-management/SKILL.md
å½¹å‰²: /compact æœ€é©åŒ–ã¨å±¥æ­´è¦ç´„ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - /compact ã‚’å®Ÿè¡Œã™ã‚‹å‰
  - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒ 80% ã‚’è¶…ãˆãŸã¨ã
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ï¼ˆå±¥æ­´è¦ç´„ï¼‰

å†…å®¹:
  1. /compact æœ€é©åŒ–ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
     - å„ªå…ˆä¿æŒæƒ…å ±ï¼ˆé«˜å„ªå…ˆåº¦ï¼‰
     - å‰Šé™¤å€™è£œï¼ˆä½å„ªå…ˆåº¦ï¼‰
     - å®Ÿè¡Œå‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
  2. å±¥æ­´è¦ç´„ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
     - ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã®è¦ç´„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
     - ä¿å­˜å…ˆ: .claude/session-history/
  3. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç›£è¦–
     - thresholds: warning 70%, critical 80%, danger 90%
  4. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¤–éƒ¨åŒ–ï¼ˆcontext-logï¼‰
     - è¨˜éŒ²å…ˆ: .claude/logs/context-log.md
     - è¨˜éŒ²ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
     - è¨˜éŒ²ã‚¿ã‚¤ãƒŸãƒ³ã‚°

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: goal.done_criteria
  - .claude/logs/context-log.md
  - .claude/session-history/
```

### execution-management Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/execution-management/SKILL.md
å½¹å‰²: ä¸¦åˆ—å®Ÿè¡Œåˆ¶å¾¡ã¨ãƒªã‚½ãƒ¼ã‚¹é…åˆ†ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - è¤‡æ•°ã‚¿ã‚¹ã‚¯ã‚’åŒæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨ã
  - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒé€¼è¿«ã—ã¦ã„ã‚‹ã¨ã
  - åŠ¹ç‡çš„ãªå®Ÿè¡Œé †åºã‚’æ±ºã‚ã‚‹ã¨ã

å†…å®¹:
  1. ä¸¦åˆ—å®Ÿè¡Œåˆ¶å¾¡
     - parallel_safe: ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½ãªã‚±ãƒ¼ã‚¹
     - sequential_required: é †æ¬¡å®Ÿè¡ŒãŒå¿…è¦ãªã‚±ãƒ¼ã‚¹
     - åˆ¤æ–­ãƒ•ãƒ­ãƒ¼
  2. ãƒªã‚½ãƒ¼ã‚¹é…åˆ†
     - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒªã‚½ãƒ¼ã‚¹ç®¡ç†
     - æ™‚é–“ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†
     - å„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚½ãƒ¼ã‚¹é…åˆ†
  3. åŠ¹ç‡åŒ–ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - ãªã—ï¼ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æä¾›ã®ã¿ï¼‰
```

### beginner-advisor Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/beginner-advisor/skill.md
å½¹å‰²: åˆå­¦è€…å‘ã‘ã«å°‚é–€ç”¨èªã‚’æ¯”å–©ã§èª¬æ˜

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - state.md ã® learning_mode.expertise ãŒ beginner ã®å ´åˆ
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œèª¬æ˜ã—ã¦ã€ã€Œã‚ã‹ã‚‰ãªã„ã€ã¨è¨€ã£ãŸå ´åˆ
  - å°‚é–€ç”¨èªã‚’å«ã‚€èª¬æ˜ã®å¾Œ

å†…å®¹:
  1. è²¬å‹™
     - å°‚é–€ç”¨èªã®èª¬æ˜ï¼ˆæ¯”å–©ã‚’ä½¿ã£ã¦ 1-2 æ–‡ï¼‰
     - é‡è¦ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã®è£œè¶³
  2. ç”¨èªè¾æ›¸
     - Git é–¢é€£: ãƒªãƒã‚¸ãƒˆãƒªã€ãƒ–ãƒ©ãƒ³ãƒã€ã‚³ãƒŸãƒƒãƒˆç­‰
     - é–‹ç™ºç’°å¢ƒ: Homebrew, Node.js, pnpm, VSCode
     - Web é–‹ç™º: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€APIã€ãƒ‡ãƒ—ãƒ­ã‚¤ç­‰
     - ãƒ•ã‚¡ã‚¤ãƒ«: .env.local, package.json, node_modules
  3. èª¬æ˜ã‚¿ã‚¤ãƒŸãƒ³ã‚°
     - ãƒ–ãƒ©ãƒ³ãƒä½œæˆæ™‚ã€ã‚³ãƒŸãƒƒãƒˆæ™‚ã€ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã€ãƒãƒ¼ã‚¸æ™‚
  4. è¡Œå‹•åŸå‰‡
     - èª¬æ˜ã¯çŸ­ãã€æŠ¼ã—ä»˜ã‘ãªã„

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - state.md: learning_mode.expertise
```

### frontend-design Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/frontend-design/SKILL.md
å½¹å‰²: ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å“è³ªã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ UI è¨­è¨ˆ

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ UI ã‚’æ–°è¦ä½œæˆã™ã‚‹
  - ãƒšãƒ¼ã‚¸ / ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ”¹å–„ã™ã‚‹
  - ã€Œã‚‚ã£ã¨ãŠã—ã‚ƒã‚Œã«ã€ã€Œãƒ‡ã‚¶ã‚¤ãƒ³ã‚’è‰¯ãã—ã¦ã€ã¨è¨€ã‚ã‚ŒãŸ
  - ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ / ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹

å†…å®¹:
  1. ãƒ‡ã‚¶ã‚¤ãƒ³æ€è€ƒ
     - ç›®çš„ã‚’ç†è§£ã™ã‚‹
     - ãƒˆãƒ¼ãƒ³ã‚’æ±ºã‚ã‚‹ï¼ˆ9ç¨®é¡ã‹ã‚‰é¸æŠï¼‰
     - å·®åˆ¥åŒ–ã‚’è€ƒãˆã‚‹
  2. ç¾å­¦ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
     - Typographyï¼ˆã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰
     - Color & Themeï¼ˆè‰²ã¨ãƒ†ãƒ¼ãƒï¼‰
     - Motionï¼ˆãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
     - Spatial Compositionï¼ˆç©ºé–“æ§‹æˆï¼‰
     - Visual Detailsï¼ˆè¦–è¦šçš„ãƒ‡ã‚£ãƒ†ãƒ¼ãƒ«ï¼‰
  3. é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆAI è‡­ï¼‰
  4. å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - ãªã—ï¼ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æä¾›ã®ã¿ï¼‰
```

### deploy-checker Skill

```yaml
ãƒ•ã‚¡ã‚¤ãƒ«: .claude/skills/deploy-checker/skill.md
å½¹å‰²: ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™ãƒ»æ¤œè¨¼

ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - git push å‰ã®æœ€çµ‚ç¢ºèª
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã€ã€Œå…¬é–‹ã—ã¦ã€ã¨è¨€ã£ãŸå ´åˆ
  - done_criteria ã«ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€ãŒå«ã¾ã‚Œã‚‹å ´åˆ

å†…å®¹:
  1. ãƒã‚§ãƒƒã‚¯é …ç›®
     - ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯
     - ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
     - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
     - ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆãƒã‚§ãƒƒã‚¯
  2. å®Ÿè¡Œæ‰‹é †ï¼ˆbash ã‚³ãƒãƒ³ãƒ‰ï¼‰
  3. å‡ºåŠ›å½¢å¼
  4. ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
  5. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  6. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
  - .env.example
  - .gitignore
  - vercel.json
  - package.json
```

---

## å¤‰æ›´å±¥æ­´

| æ—¥æ™‚ | å†…å®¹ |
|------|------|
| 2025-12-13 | M009 å¯¾å¿œã€‚å…¨ Hooks/SubAgents/Skills ã®è©³ç´°ä»•æ§˜ã‚’è¿½åŠ ã€‚ |
| 2025-12-13 | M008 å¯¾å¿œã€‚åˆç‰ˆä½œæˆã€‚ |
